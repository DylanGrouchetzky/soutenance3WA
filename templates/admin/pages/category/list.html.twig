{% extends "admin/template.html.twig" %}
{% block title %}- Catégorie{% endblock %}
{% block body %}
<main>
    {% include "admin/_partials/_block_alert.html.twig" %}
    <section class="hero-section">
        <h1>Gestion des Catégries</h1>
        <a href="{{path('admin_category_add')}}" class="btn btn-blue" id="btn-add"><i class="feather-plus"></i> Ajouter <span class="d-responsive-none">une catégorie</span></a>
    </section>
    <section style="overflow-x:scroll">
        {% if categories|length > 0 %}
            <table>
                <thead>
                    <tr>
                        <th class="fx-13">Nom</th>
                        <th class="fx-13 d-responsive-none">Ajouter le</th>
                        <th class="fx-13 d-responsive-none">Modifier le</th>
                        <th class="fx-13" width="30%">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for category in categories %}
                    <tr>
                        <td class="text-capitalize"><a href="{{path('admin_category_edit',{'slugCategory':category.slug})}}">{{ category.name }}</a></td>
                        <td class="d-responsive-none">{{ category.dateCreate|date('d/m/Y') }}</td>
                        <td class="d-responsive-none">{{ category.dateModifie|date('d/m/Y') }}</td>
                        <td class="justify-end d-flex">
                            <a href="{{path('admin_category_edit',{'slugCategory':category.slug})}}" class="btn btn-edit"><i class="feather-edit"></i> <span class="d-responsive-none">Editer</span></a>
                            <a href="{{path('admin_category_delete',{'slugCategory':category.slug})}}" onclick="return confirm('Vous voulez vraiment supprimer cette categorie?')" class="btn btn-red"><i class="feather-trash-2"></i> <span class="d-responsive-none">Supprimer</span></a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Il n'y a pas encore de catégorie enregistré</p>
        {% endif %}
    </section>
</main>
{% endblock %}
{% block addJS %} <script src={{asset('admin/js/category.js')}} defer></script> {% endblock %}